{% extends "base.html" %}

{% from "macros/render_field.html" import form_field %}

{% block style %}
<style>
    .no-bullets ul {
        list-style-type: none;
        display: inline-block;
    }
</style>

{% endblock style %}


{% block content %}
<div class="title">
    <h1>Search for a group to join</h1>
    <div><a class="btn btn-outline-primary" href={{ url_for('createGroup') }} role="button">Create Group</a></div>
</div>


<hr>

<form method="POST">
    {{ form.csrf_token }}

    {{ form_field(form.search) }}
    <br><br>
    {{ form_field(form.submit) }}
</form>

{% if results is not none %}

<p>Search results for: {{ query }}</p>

{% for group_list in results %}

<div class="row">
    {% for group in card_list %}

    <div class="col">
        {% if group is not none %}

        <div class="card-footer bg-transparent">
            <form action = {{url_for('user.buyCards')}} method = "POST">
                {% if in_stock %}
                <button type="submit" name="card" value="{{ card.id }}"
                    class="btn btn-primary btn-block">
                    Buy
                {% else %}
                <button type="button" class="btn btn-secondary btn-block" disabled>
                    Out of Stock
                {% endif %}
                </button>
            </form>
        </div>
        {{render_card(card,True,True,True)}}
        {% endif %}

    </div>

    {% endfor %}

</div><br>


{% endfor %}

{% if results == [] %}
<br><br><br>
<p class="text-center"><em>No cards found!</em></p>
{% endif %}

{% endif %}

{% endblock %}
